<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Monorepository</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
                    <section data-markdown data-background-image="https://f4.bcbits.com/img/a0268146037_10.jpg" data-background-size="contain">
                        <script type="text/template">
                            # Monorepository
                        </script>
                    </section>
                    <section data-markdown>
                      <script type="text/template">
                          ## What is Monorepo?
                          A repository that contains multiple packages or projects.
                          Those projects can, but don't have to be related. Most famous monorepo pioneers are Google, Facebook and Twitter.
                      </script>
                    </section>
                    <section data-background-size="70%" data-background-image="https://mkozak0108.github.io/javascript-oop-presentation/babel.PNG">
                      <h2 style="margin-top: -35%;">Example</h2>
                    </section>
                    <section data-markdown>
                      <script type="text/template">
                        ## Why to bother?

                        #### webapp-proto use webapp-customer as a module. Reused parts are:

                        - mapbox styles (rasters, icons, vectiles, ect.)
                        - firebase services (how to get/update/delete entities from firebase)
                        - feed components
                        - helper functions
                      </script>
                    </section>
                    <section>
                      <section data-markdown>
                        <script type="text/template">
                          ### What it takes to change something
                          ```
                          cd webapp-customer
                          npm install
                          npm run serve
                          // change the code
                          git add .
                          git commit -m "change something"
                          git push
                          npm run deploy-stage

                          cd webapp-proto
                          npm install
                          npm run serve
                          // change the code
                          git add .
                          git commit -m "change something"
                          git push
                          npm run deploy-stage
                          ```
                        </script>
                      </section>
                      <section data-background-image="https://media1.giphy.com/media/3orifgLo0adX1ePM3u/giphy.gif" data-background-size="contain">
                      </section>
                      <section data-markdown>
                        <script type="text/template">
                          ### How it could be
                          ```
                          cd seetree
                          npm install
                          npm run serve
                          // do changes
                          git add .
                          git commit -m "change something"
                          git push
                          npm run deploy-stage
                          ```
                        </script>
                      </section>
                    </section>

                    <section>
                      <section data-markdown>
                          <script type="text/template">
                              ### Pros

                              - collaboration across teams
                              - large scale refactoring, code base modernization
                                - old APIs can be removed with confidence
                                - supports gradual refactoring and re-organisation of the codebase
                                - rename a class or function in a single commit, with no broken builds or tests
                              - simplified dependency management
                                - monolithic codebase captures all dependency information
                                - diamond dependency problem: one person updating a library will update all the dependent code as well
                              - atomic changes
                                - change of hundreds/thousands of files in a single consistent operation
                          </script>
                      </section>
                      <section data-markdown>
                          <script type="text/template">
                            ### Cons

                            - build/test time
                            - complex codebase
                              - unreasonable for a single developer to have the entire repository on their machine
                              - difficult to search and index code
                            - tight coupling
                            - VCS scalability
                          </script>
                      </section>
                    </section>
                    <section data-markdown style="font-size: 20px;">
                      <script type="text/template">
                          ## Tools
                          * [baur](https://github.com/simplesurance/baur) builds only changed applications in a monorepo branch and manages build artifacts
                          * [Bazel](https://bazel.build) is Google's monorepo-oriented build system. More on Bazel: [awesome-bazel](https://github.com/jin/awesome-bazel)
                          * [Buck](https://buckbuild.com/) is Facebook's monorepo-oriented build system.
                          * [Please](https://please.build/index.html) a cross-language build system with an emphasis on high performance, extensibility and reproduceability.
                          * [Pants](http://www.pantsbuild.org/) is a monorepo-oriented build system, used by Twitter, Foursquare and multiple other companies.
                          * [Yarn](https://yarnpkg.com/blog/2017/08/02/introducing-workspaces/) is a JavaScript dependency management tool that supports monorepos through workspaces.
                          * [pnpm](https://pnpm.js.org/en/) is a JavaScript dependency management tool that supports monorepos through a set of dedicated commands called `pnpm multi`.
                          * [Lerna](https://lernajs.io/) is a tool for managing JavaScript projects with multiple packages, built on Yarn.
                          * [OAO](https://github.com/guigrpa/oao) is a Yarn-based, opinionated JavaScript monorepo management tool.
                          * [MBT](https://github.com/mbtproject/mbt) is a build tool with differential build support.
                          * [Bolt Pkg](https://github.com/boltpkg/bolt) is a super-powered JavaScript project management.
                          * [GitLab CI](https://gitlab.com/gitlab-org/gitlab-ce/issues/19232) 11.4 supports running steps based on path changes.
                      </script>
                    </section>
                    <section data-markdown>
                      <script type="text/template">
                        ## Conclusion

                        At first monorepository seems like silver bullet for projects with multiple products.
                        But you should consider that it is impossible to work with on large scale, until you don't
                        have impressive tools like Google, Facebook etc.
                        The difference between multi-repository and monorepository is not relevant if you have good architecture and team collaboration.
                      </script>
                    </section>
                    <section data-markdown data-background-size="contain" data-background-image="http://www.tuteate.com/wp-content/uploads/2014/09/manos-alzadas.jpg">
                      <script type="text/template">
                        # Questions
                      </script>
                    </section>
                    <section data-markdown>
                      <script type="text/template">
                        ## Articles and presentations

                        * [Monorepos in the Wild](https://medium.com/@maoberlehner/monorepos-in-the-wild-33c6eb246cb9)
                        * [Monorepo vs many repos](https://www.slideshare.net/julienbisconti/monorepo-vs-many-repos)
                        * [Master the Monorepo](https://www.slideshare.net/RomanMinchyn/master-the-monorepo-113064925)
                        * [Mono-Repos @ Google. Are they worth it?](https://medium.com/@pejvan/monorepos-85e608d43b57)
                        * [Monorepos: Please donâ€™t!](https://medium.com/@mattklein123/monorepos-please-dont-e9a279be011b)
                      </script>
                    </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>
	</body>
</html>
