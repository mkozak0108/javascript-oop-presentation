<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Javascript OOP</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
                    <section data-markdown>
                        <script type="text/template">
                            # Javascript OOP

                            #### Creating Objects and Inheritance


                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            #### JavaScript is an object-based language based on prototypes, rather than being class-based.
                            That means that javascript doesnt have classes or instances like other languages, it simply has objects
                        </script>
                    </section>
                    <section  data-markdown>
                        <script type="text/template">
                            ### There are three popular patterns for simulating classes
                            - Functional/Module Pattern
                            - Constructor Pattern
                            - Prototype Pattern
                        </script>
                    </section>
                    <section>
                      <section data-markdown>
                      <script type="text/template">
                          ### Functional/Module Pattern
                          ```
                          var Car = (function () {
                            var MAX_SPEED = 80;

                            return function Car(name) {
                              var car = { 
                                    name: name,
                                    drive: drive
                                  },
                                speed = 0;

                              // public methods
                              function drive() {
                                if (!car.engineIsWorking) {
                                  startEngine();
                                }

                                return `They see me rolling, on my ${car.name}`
                              }

                              // private methods
                              function startEngine() {
                                car.engineIsWorking = true;
                              }

                              return  car;
                            }
                          }());
                          ```
                      </script>
                      </section>
                      <section data-markdown>
                      <script type="text/template">
                          ### Inheritance
                          ```
                          function Truck(name, maxWeight) {
                              return jQuery.extend(
                                Car(name), {
                                  maxWeight: maxWeight
                                });
                            };
                          ```
                      </script>
                    </section>
                      <section data-markdown>
                          <script type="text/template">
                              ### Advantages
                              - True private variables and functions
                              - Easy to write and use
                              - No need to write new

                              ### Disadvantages
                              - Heavy on older browsers ( New functions for each instance )
                              - Cannot use instanceof or isPrototypeOf
                              - Limited to mixins for inheritance
                              - Can't reuse parent methods
                          </script>
                      </section>
                      <section data-markdown>
                          <script type="text/template">
                              ### Use Case
                              Static classes
                              ```
                                var ArrayHelper = (function () {
                                  return ArrayHelper = {
                                    compact: compact,
                                    removeElement: removeElement
                                  }

                                  function compact() {
                                    ...
                                  }
                                }())
                              ```
                          </script>
                      </section>
                    </section>

                    <section>
                      <section data-markdown>
                          <script type="text/template">
                              ### Constructor Pattern

                              ```
                              var Car = (function () {
                                var MAX_SPEED = 80;

                                return function Car(name) {
                                  var speed = 0,
                                    that = this;

                                  this.engineIsWorking = false;
                                  this.name = name;

                                  this.drive = function() {
                                    if (!this.engineIsWorking) {
                                      startEngine();  
                                    }
                                    
                                    return `They see me rolling, on my ${this.name}`;
                                  };

                                  function startEngine() {
                                    that.engineIsWorking = true;
                                  }
                                }
                              }());
                              ```
                          </script>
                      </section>
                      <section data-markdown> 
                          <script type="text/template">
                            ### Inheritance
                            ```
                              var Truck = (function () {
                                function Truck (name) {
                                  Car.call(this, name);
                                }
                              }());
                              ```
                          </script>
                      </section>

                      <section data-markdown> 
                            <script type="text/template">
                                ### Advantages
                                - True private variables and functions
                                - Easy to write and use
                                - Can use standard javascript inheritance and mixins

                                ### Disadvantages
                                - Heavy on older browsers ( New functions for each instance )
                                - Can't reuse parent methods
                            </script>
                      </section>
                    </section>

                    <section>
                    <section data-markdown>
                        <script type="text/template">
                        ### Prototype Pattern

                        #### What is a prototype?

                        A functionâ€™s prototype is the object that will be available for all objects created using this function as a constructor.

                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                        ### Prototype Pattern

                        ```
                        var Car = (function() {
                          var MAX_SPEED = 80;

                          function Car(name) {
                              this.engineIsWorking = false;
                              this.name = name;

                              // private variable convention
                              this._speed = 0;
                          }

                          Car.prototype.drive = function(direction) {
                            if (!this.engineIsWorking) {
                              startEngine.call(this);
                            }
                            return `They see me rolling, on my ${this.name}`;
                          };

                          function startEngine(car) {
                            this.engineIsWorking = true; // car.engineIsWorking = true;
                          }

                          return Car;
                        })();
                        ```

                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Inheritance
                            ```
                              function Truck (name) {
                                Car.call(this, name)
                              }

                              Truck.prototype = Object.create(Car.prototype);
                              Truck.prototype.constructor = Truck;
                              Truck.prototype.super = Car.prototype;

                              Truck.prototype.drive = function () {
                                return this.super.drive.call(this) +
                                  ', They hating';
                              }

                              var truck = new Truck('zil');
                              truck.drive(); // <- They see me rolling, on my zil, They hating
                            ```
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Advantages
                            - Very fast and lightweight
                            - Can use standard javascript inheritance and mixins

                            ### Disadvantages
                            - No private properties (private functions are available with 'call')
                            - More difficult to write
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Make It Generic
                            ```
                            function inherit(Parent, Child) {
                                Child.prototype = Object.create(Parent.prototype);
                                Child.prototype.constructor = Child;
                                Child.prototpe.super = Parent.prototype;
                            }
                            ```
                        </script>
                    </section>
                </section>
                    <section>
                      <section data-markdown>
                        <script type="text/template">
                          ### ES6
                          ```
                            var Car = (function () {
                              const MAX_SPEED = 80;

                              return class Car {
                                constructor (name) {
                                  this.engineIsWorking = false;
                                  this.name = name;
                                  this._speed = 0;
                                }

                                get speed () { return this._speed }

                                set speed (value) { 
                                  this._speed = MAX_SPEED > value ? value : MAX_SPEED
                                }

                                drive () {
                                  if (!this.engineIsWorking) {
                                    this._startEngine();
                                  }
                                  return `They see me rolling, on my ${this.name}`;
                                }

                                _startEngine () {
                                  this.engineIsWorking = true;
                                }
                              }
                            }());
                          ```
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Example
                            ```
                            var car = new Car('ferrari');
                            car.drive();
                            car.speed = 120;
                            console.log(car.speed); // <- 80
                            ```
                        </script>
                    </section>
                      <section data-markdown>
                        <script type="text/template">
                            ### Inheritance
                            ```
                              var Truck = (function () {
                                return class Truck extends Car {
                                  constructor (name) {
                                   super(name);
                                  }

                                  drive () {
                                    return `${super.drive()}, They hating`;
                                  }
                                }
                              }());

                              var truck = new Truck('zil');
                              truck.drive(); // <- They see me rolling, on my zil, They hating
                            ```
                        </script>
                    </section>
                    </section>
                </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>
	</body>
</html>
